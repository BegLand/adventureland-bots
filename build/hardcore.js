window.bots=function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";(function(e){var t=function(e,t){return e<t};function a(e){if(!(this instanceof a))return new a(e);this.array=[],this.size=0,this.compare=e||t}a.prototype.clone=function(){var e=new a(this.compare);e.size=this.size;for(var t=0;t<this.size;t++)e.array.push(this.array[t]);return e},a.prototype.add=function(e){var t,r,a=this.size;for(this.array[this.size]=e,this.size+=1;a>0&&(t=a-1>>1,r=this.array[t],this.compare(e,r));)this.array[a]=r,a=t;this.array[a]=e},a.prototype.heapify=function(e){var t;for(this.array=e,this.size=e.length,t=this.size>>1;t>=0;t--)this._percolateDown(t)},a.prototype._percolateUp=function(e,t){for(var r,a,n=this.array[e];e>0&&(r=e-1>>1,a=this.array[r],t||this.compare(n,a));)this.array[e]=a,e=r;this.array[e]=n},a.prototype._percolateDown=function(e){for(var t,r,a,n=this.size,o=this.size>>>1,s=this.array[e];e<o&&(r=(t=1+(e<<1))+1,a=this.array[t],r<n&&this.compare(this.array[r],a)&&(t=r,a=this.array[r]),this.compare(a,s));)this.array[e]=a,e=t;this.array[e]=s},a.prototype._removeAt=function(e){if(!(e>this.size-1||e<0))return this._percolateUp(e,!0),this.poll()},a.prototype.remove=function(e){for(var t=0;t<this.size;t++)if(!this.compare(this.array[t],e)&&!this.compare(e,this.array[t]))return this._removeAt(t),!0;return!1},a.prototype._batchRemove=function(e,t){var r=new Array(t||this.size),a=0;if("function"==typeof e&&this.size)for(var n=0;n<this.size&&a<r.length;)e(this.array[n])?(r[a]=this._removeAt(n),a++,n>>=1):n++;return r.length=a,r},a.prototype.removeOne=function(e){var t=this._batchRemove(e,1);return t.length>0?t[0]:void 0},a.prototype.removeMany=function(e,t){return this._batchRemove(e,t)},a.prototype.peek=function(){if(0!=this.size)return this.array[0]},a.prototype.poll=function(){if(0!=this.size){var e=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,e}},a.prototype.replaceTop=function(e){if(0!=this.size){var t=this.array[0];return this.array[0]=e,this._percolateDown(0),t}},a.prototype.trim=function(){this.array=this.array.slice(0,this.size)},a.prototype.isEmpty=function(){return 0===this.size},a.prototype.forEach=function(e){if(!this.isEmpty()&&"function"==typeof e)for(var t=0,r=this.clone();!r.isEmpty();)e(r.poll(),t++)},a.prototype.kSmallest=function(e){if(0==this.size)return[];var t=this.compare,r=this.array,n=new a((function(e,a){return t(r[e],r[a])}));e=Math.min(this.size,e);var o=new Array(e),s=0;for(n.add(0);s<e;){var i=n.poll();o[s++]=this.array[i];var c=1+(i<<1),p=c+1;c<this.size&&n.add(c),p<this.size&&n.add(p)}return o};r.c[r.s]===e&&function(){var e=new a((function(e,t){return e<t}));for(e.add(1),e.add(0),e.add(5),e.add(4),e.add(3);!e.isEmpty();)console.log(e.poll())}(),e.exports=a}).call(this,r(1)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";function a(e=parent.character.items){const t=[];for(let r=0;r<42;r++)e[r]&&t.push({...e[r],index:r});return t}function n(e){for(let t=0;t<42;t++)if(parent.character.items[t]&&parent.character.items[t].name==e)return{...parent.character.items[t],index:t}}function o(e,t=!1){if(parent.next_skill&&parent.next_skill[e]){const r=parent.next_skill[e].getTime()-Date.now();return t?r+1:r<parent.character.ping?parent.character.ping:r+1}return parent.character.ping}r.r(t),r.d(t,"hardcore",(function(){return c}));var s=r(0),i=r.n(s);const c=new class{constructor(){this.mainTarget="goo"}async run(){this.attackLoop(),this.buyLoop(),this.compoundLoop(),this.equipLoop(),this.exchangeLoop(),this.healLoop(),this.lootLoop(),this.moveLoop(),this.pontyLoop(),this.sellLoop(),this.upgradeLoop()}async attackLoop(){try{const e=new i.a((e,t)=>e.priority>t.priority);for(const t in parent.entities){const r=parent.entities[t];let a=0;if(r.rip)continue;if(parent.party_list.includes(t))continue;if(r.s.invincible)continue;if(r.npc)continue;if(r.mtype&&r.target&&!r.cooperative&&r.target!=parent.character.id)continue;if(r.mtype&&r.mtype!=this.mainTarget)continue;distance(parent.character,r)>parent.character.range||(r.target==parent.character.id&&(a+=100),r.mtype||(a+=10),e.add({id:t,priority:a}))}const t=parent.entities[e.poll().id];await attack(t),reduce_cooldown("attack",Math.min(...parent.pings))}catch(e){if("cooldown"==e.reason)return void setTimeout(async()=>{this.attackLoop()},Math.min(...parent.pings)-e.remaining);console.error(e)}setTimeout(async()=>{this.attackLoop()},o("attack",!0))}async buyLoop(){try{let e=0,t=0,r=0,n=0,o=0;for(const s of a())"hpot1"==s.name?e+=s.q:"mpot1"==s.name?t+=s.q:"cscroll2"==s.name?n+=s.q:"scroll2"==s.name?r+=s.q:"dexscroll"==s.name&&(o+=s.q);const s=[];e<25&&s.push(buy("hpot1",25-e)),t<25&&s.push(buy("mpot1",25-t)),n<3&&s.push(buy("cscroll2",3-n)),r<3&&s.push(buy("scroll2",3-r)),o<110&&s.push(buy("dexscroll",110-o)),Promise.all(s)}catch(e){console.error(e)}setTimeout(async()=>{this.buyLoop()},500)}async compoundLoop(){try{if(parent.character.q.compound||"bank"==parent.character.map)return void setTimeout(async()=>{this.compoundLoop()},500);const e=a();for(let t=0;t<e.length;t++){const r=e[t];if(!G.items[r.name].compound)continue;const a=[r];for(let n=t+1;n<e.length;n++){const t=e[n];t.name==r.name&&(t.level==r.level&&a.push(t))}if(a.length>=3){const e=n("cscroll2");e&&compound(a[0].index,a[1].index,a[2].index,e.index);break}}}catch(e){console.error(e)}setTimeout(async()=>{this.compoundLoop()},500)}async equipLoop(){try{let e,t,r=-1;if(parent.character.slots.helmet){const e=G.items[parent.character.slots.helmet.name];r=0,e.armor&&(r+=e.armor),e.upgrade.armor&&(r+=e.upgrade.armor*parent.character.slots.helmet.level),e.resistance&&(r+=e.resistance),e.upgrade.resistance&&(r+=e.upgrade.resistance*parent.character.slots.helmet.level)}let n,o=-1;if(parent.character.slots.chest){const e=G.items[parent.character.slots.chest.name];o=0,e.armor&&(o+=e.armor),e.upgrade.armor&&(o+=e.upgrade.armor*parent.character.slots.chest.level),e.resistance&&(o+=e.resistance),e.upgrade.resistance&&(o+=e.upgrade.resistance*parent.character.slots.chest.level)}let s,i=-1;if(parent.character.slots.pants){const e=G.items[parent.character.slots.pants.name];i=0,e.armor&&(i+=e.armor),e.upgrade.armor&&(i+=e.upgrade.armor*parent.character.slots.pants.level),e.resistance&&(i+=e.resistance),e.upgrade.resistance&&(i+=e.upgrade.resistance*parent.character.slots.pants.level)}let c,p=-1;if(parent.character.slots.shoes){const e=G.items[parent.character.slots.shoes.name];p=0,e.armor&&(p+=e.armor),e.resistance&&(p+=e.resistance)}let l,h=-1;if(parent.character.slots.shoes){const e=G.items[parent.character.slots.shoes.name];h=0,e.armor&&(h+=e.armor),e.resistance&&(h+=e.resistance)}let u,m=-1;if(parent.character.slots.cape){const e=G.items[parent.character.slots.cape.name];m=0,e.armor&&(m+=e.armor),e.resistance&&(m+=e.resistance)}let d,f=-1;if(parent.character.slots.mainhand){const e=G.items[parent.character.slots.mainhand.name];f=0,e.range&&(f+=e.range),e.upgrade.range&&(f+=e.upgrade.range*parent.character.slots.mainhand.level)}let y,g=-1;if(parent.character.slots.offhand){const e=G.items[parent.character.slots.offhand.name];g=0,e.range&&(g+=e.range),e.upgrade.range&&(g+=e.upgrade.range*parent.character.slots.offhand.level)}let v,_=-1;if(parent.character.slots.amulet){const e=G.items[parent.character.slots.amulet.name];_=0,e.vit&&(_+=e.vit)}let x,b=-1;if(parent.character.slots.ring1){const e=G.items[parent.character.slots.ring1.name];b=0,e.vit&&(b+=e.vit),e.compound.vit&&(b+=e.compound.vit*parent.character.slots.ring1.level)}let k,w=-1;if(parent.character.slots.ring2){const e=G.items[parent.character.slots.ring2.name];w=0,e.vit&&(w+=e.vit),e.compound.vit&&(w+=e.compound.vit*parent.character.slots.ring2.level)}let L,q=-1;if(parent.character.slots.earring1){const e=G.items[parent.character.slots.earring1.name];q=0,e.vit&&(q+=e.vit)}let z,T=-1;if(parent.character.slots.earring2){const e=G.items[parent.character.slots.earring2.name];T=0,e.vit&&(T+=e.vit)}let M,j=-1;if(parent.character.slots.belt){const e=G.items[parent.character.slots.belt.name];j=0,e.vit&&(j+=e.vit)}let O=-1;if(parent.character.slots.orb){const e=G.items[parent.character.slots.orb.name];O=0,e.vit&&(O+=e.vit)}for(const P of a()){const a=G.items[P.name];if("weapon"==a.type&&"bow"==a.wtype){let e=0;a.range&&(e+=a.range),a.upgrade.range&&(e+=a.upgrade.range*P.level),e>f&&(u=P,f=e)}else if("helmet"==a.type){let t=0;a.armor&&(t+=a.armor),a.upgrade.armor&&(t+=a.upgrade.armor*P.level),a.resistance&&(t+=a.resistance),a.upgrade.resistance&&(t+=a.upgrade.resistance*P.level),t>r&&(e=P,r=t)}else if("chest"==a.type){let e=0;a.armor&&(e+=a.armor),a.upgrade.armor&&(e+=a.upgrade.armor*P.level),a.resistance&&(e+=a.resistance),a.upgrade.resistance&&(e+=a.upgrade.resistance*P.level),e>o&&(t=P,o=e)}else if("pants"==a.type){let e=0;a.armor&&(e+=a.armor),a.upgrade.armor&&(e+=a.upgrade.armor*P.level),a.resistance&&(e+=a.resistance),e>i&&(n=P,i=e)}else if("shoes"==a.type){let e=0;a.armor&&(e+=a.armor),a.upgrade.armor&&(e+=a.upgrade.armor*P.level),a.resistance&&(e+=a.resistance),e>p&&(s=P,p=e)}else if("gloves"==a.type){let e=0;a.armor&&(e+=a.armor),a.upgrade.armor&&(e+=a.upgrade.armor*P.level),a.resistance&&(e+=a.resistance),e>h&&(c=P,h=e)}else if("cape"==a.type){let e=0;a.armor&&(e+=a.armor),a.upgrade.armor&&(e+=a.upgrade.armor*P.level),a.resistance&&(e+=a.resistance),e>m&&(l=P,m=e)}else if("quiver"==a.type){let e=0;a.range&&(e+=a.range),a.upgrade.range&&(e+=a.upgrade.range*P.level),e>g&&(d=P,g=e)}else if("amulet"==a.type){let e=0;a.vit&&(e+=a.vit),e>_&&(y=P,_=e)}else if("ring"==a.type){let e=0;a.vit&&(e+=a.vit),a.compound.vit&&(e+=a.compound.vit*P.level),e>b?(v=P,b=e):e>w&&(x=P,w=e)}else if("earring"==a.type){let e=0;a.vit&&(e+=a.vit),a.compound.vit&&(e+=a.compound.vit*P.level),e>q?(k=P,q=e):e>T&&(L=P,T=e)}else if("belt"==a.type){let e=0;a.vit&&(e+=a.vit),a.compound.vit&&(e+=a.compound.vit*P.level),e>j&&(z=P,j=e)}else if("orb"==a.type){let e=0;a.vit&&(e+=a.vit),a.compound.vit&&(e+=a.compound.vit*P.level),e>O&&(M=P,O=e)}}u&&equip(u.index,"mainhand"),d&&equip(d.index,"offhand"),e&&equip(e.index,"helmet"),t&&equip(t.index,"chest"),n&&equip(n.index,"pants"),s&&equip(s.index,"shoes"),c&&equip(c.index,"gloves"),l&&equip(l.index,"cape"),y&&equip(y.index,"amulet"),v&&equip(v.index,"ring1"),x&&equip(x.index,"ring2"),k&&equip(k.index,"earring1"),L&&equip(L.index,"earring2"),z&&equip(z.index,"belt"),M&&equip(M.index,"orb")}catch(e){console.error(e)}setTimeout(async()=>{this.equipLoop()},500)}async exchangeLoop(){try{if(parent.character.q.exchange||"bank"==parent.character.map)return void setTimeout(async()=>{this.exchangeLoop()},500);for(const e of a())(G.items[e.name].e&&e.q>=G.items[e.name].e||"glitch"==e.name)&&exchange(e.index)}catch(e){console.error(e)}setTimeout(async()=>{this.exchangeLoop()},500)}async healLoop(){try{if(parent.character.rip)return respawn(),void setTimeout(async()=>{this.healLoop()},o("use_town"));if(!function(e){const t=G.skills[e].level;if(t&&t>parent.character.level)return!1;if(parent.character.stoned)return!1;if(parent.character.rip)return!1;const r=G.skills[e].wtype;if(r&&r!=G.items[parent.character.slots.mainhand.name].wtype)return!1;if(G.skills[e].slot)for(const t of G.skills[e].slot){if(!parent.character.slots[t[0]])return!1;if(parent.character.slots[t[0]].name!=t[1])return!1}if(G.skills[e].class){let t=!1;for(const r of G.skills[e].class)if(r==parent.character.ctype){t=!0;break}if(!t)return!1}let a=0;if(G.skills[e].mp?a=G.skills[e].mp:["attack","heal"].includes(e)&&(a=parent.character.mp_cost),parent.character.mp<a)return!1;if(void 0===parent.next_skill[e])return!0;const n=G.skills[e].share;return n?!parent.next_skill[n]||Date.now()>=parent.next_skill[n].getTime():Date.now()>=parent.next_skill[e].getTime()}("use_hp"))return void setTimeout(async()=>{this.healLoop()},o("use_hp"));const e=["hpot0","hpot1"],t=["mpot0","mpot1"];let r=null,a=null;for(let n=parent.character.items.length-1;n>=0;n--){const o=parent.character.items[n];if(o&&(!a&&e.includes(o.name)?a=o:!r&&t.includes(o.name)&&(r=o),a&&r))break}const n=parent.character.hp/parent.character.max_hp,s=parent.character.mp/parent.character.max_mp;n<=s&&1!=n&&(!a||"hpot0"==a.name&&(parent.character.hp<=parent.character.max_hp-200||parent.character.hp<50)||"hpot1"==a.name&&(parent.character.hp<=parent.character.max_hp-400||parent.character.hp<50))?(use_skill("use_hp"),reduce_cooldown("use_hp",Math.min(...parent.pings)),reduce_cooldown("use_mp",Math.min(...parent.pings))):1!=s&&(!r||"mpot0"==r.name&&(parent.character.mp<=parent.character.max_mp-300||parent.character.mp<50)||"mpot1"==r.name&&(parent.character.mp<=parent.character.max_mp-500||parent.character.mp<50))?(use_skill("use_mp"),reduce_cooldown("use_hp",Math.min(...parent.pings)),reduce_cooldown("use_mp",Math.min(...parent.pings))):n<s?(use_skill("regen_hp"),reduce_cooldown("use_hp",Math.min(...parent.pings)),reduce_cooldown("use_mp",Math.min(...parent.pings))):s<n&&(use_skill("regen_mp"),reduce_cooldown("use_hp",Math.min(...parent.pings)),reduce_cooldown("use_mp",Math.min(...parent.pings)))}catch(e){console.error(e)}setTimeout(async()=>{this.healLoop()},o("use_hp"))}async lootLoop(){try{let e=10;for(const t in parent.chests)if(loot(t),--e<0)break}catch(e){console.error(e)}setTimeout(async()=>{this.lootLoop()},500)}async moveLoop(){try{if(!smart.moving){let e,t=Number.MAX_VALUE;for(const r in parent.entities){const a=parent.entities[r];if(!a.mtype)continue;if(a.mtype!=this.mainTarget)continue;const n=distance(parent.character,a);n<t&&(t=n,e=a)}e?t>parent.character.range&&xmove(e.real_x,e.real_y):smart_move(this.mainTarget)}}catch(e){console.error(e)}setTimeout(async()=>{this.moveLoop()},500)}async pontyLoop(){try{let e=!1;for(const t of parent.npcs)if("secondhands"==t.id&&distance(parent.character,{x:t.position[0],y:t.position[1]})<350){e=!0;break}if(!e)return void setTimeout(()=>{this.pontyLoop()},250);const t=["crossbow","t3bow","quiver","t2quiver","xhelmet","xpants","xgloves","xarmor","xboots"];parent.socket.once("secondhands",e=>{for(const r of e)t.includes(r.name)&&parent.socket.emit("sbuy",{rid:r.rid})}),parent.socket.emit("secondhands")}catch(e){console.error(e)}setTimeout(async()=>{this.pontyLoop()},1e4)}async sellLoop(){try{const e=a();for(const t of e){const e=G.items[t.name];"material"!=e.type?"weapon"==e.type&&"bow"!=e.wtype&&"crossbow"!=e.wtype||"cosmetics"==e.type||"jar"==e.type||"key"==e.type||"qubics"==e.type||"shield"==e.type||"source"==e.type||"token"==e.type||e.e>1||"pscroll"==e.type&&"dexscroll"!=t.name||"offering"==t.name||"mpot0"==t.name||"hpot0"==t.name?sell(t.index):"gem"!=e.type||e.e||sell(t.index):sell(t.index,t.q)}}catch(e){console.error(e)}setTimeout(async()=>{this.sellLoop()},500)}async upgradeLoop(){try{if(parent.character.q.upgrade||"bank"==parent.character.map)return void setTimeout(async()=>{this.upgradeLoop()},500);let e,t=Number.MAX_VALUE;const r=a();for(const a of r){if(G.items[a.name].upgrade&&(a.level<t&&(t=a.level,e=a),0==t))break}if(e)if(e.stat_type&&"dex"==e.stat_type){const t=n("scroll2");t&&upgrade(e.index,t.index)}else{const t=n("dexscroll");t&&upgrade(e.index,t.index)}}catch(e){console.error(e)}setTimeout(async()=>{this.upgradeLoop()},500)}}}]);