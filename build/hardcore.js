window.bots=function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=22)}({0:function(e,t,r){"use strict";function a(e){return new Promise(t=>setTimeout(t,e))}function n(e){return"character"==e.type&&!function(e){return!!e.npc}(e)}function o(e=parent.character.items){const t=[];for(let r=0;r<e.length;r++)e[r]&&t.push({...e[r],index:r});return t}function s(e){for(let t=0;t<42;t++)if(parent.character.items[t]&&parent.character.items[t].name==e)return{...parent.character.items[t],index:t}}function i(e){const t=[];for(let r=0;r<42;r++)parent.character.items[r]&&parent.character.items[r].name==e&&t.push({...parent.character.items[r],index:r});return t}function c(e,t){const r=[];for(let a=0;a<42;a++)parent.character.items[a]&&parent.character.items[a].name==e&&parent.character.items[a].level==t&&r.push({...parent.character.items[a],index:a});return r}function p(e,t){let r=e.attack;return e.apiercing||(e.apiercing=0),e.rpiercing||(e.rpiercing=0),t.armor||(t.armor=0),!e.damage_type&&e.slots.mainhand&&(e.damage_type=G.items[e.slots.mainhand.name].damage),t["1hp"]?[1,1]:("physical"==e.damage_type?r*=damage_multiplier(t.armor-e.apiercing):"magical"==e.damage_type&&(r*=damage_multiplier(t.resistance-e.rpiercing)),[.9*r,1.1*r])}function l(e,t=!1){if(parent.next_skill&&parent.next_skill[e]){const r=parent.next_skill[e].getTime()-Date.now();return t?r+1:r<parent.character.ping?parent.character.ping:r+1}return parent.character.ping}function u(e=parent.character.items){for(let t=0;t<e.length;t++)if(!e[t])return!1;return!0}function h(){const e=new Set;for(const t of parent.party_list)e.add(parent.party[t].type);return e}function m(e=parent.character.items){const t=[];for(let r=0;r<e.length;r++)e[r]||t.push(r);return t}function d(){if(!["bank","bank_b","bank_u"].includes(parent.character.map))return;const e=[];for(const t in bank_packs)if("gold"!=t&&bank_packs[t][0]==parent.character.map)for(let r=0;r<42;r++){parent.character.bank[t][r]||e.push({pack:t,index:r})}return e}function f(e){const t=G.skills[e].level;if(t&&t>parent.character.level)return!1;if(parent.character.stoned)return!1;if(parent.character.rip)return!1;const r=G.skills[e].wtype;if(r&&!r.includes(G.items[parent.character.slots.mainhand.name].wtype))return!1;if(G.skills[e].slot)for(const t of G.skills[e].slot){if(!parent.character.slots[t[0]])return!1;if(parent.character.slots[t[0]].name!=t[1])return!1}if(G.skills[e].class){let t=!1;for(const r of G.skills[e].class)if(r==parent.character.ctype){t=!0;break}if(!t)return!1}let a=0;if(G.skills[e].mp?a=G.skills[e].mp:["attack","heal"].includes(e)&&(a=parent.character.mp_cost),parent.character.mp<a)return!1;if(void 0===parent.next_skill[e])return!0;const n=G.skills[e].share;return n?!parent.next_skill[n]||Date.now()>=parent.next_skill[n].getTime():Date.now()>=parent.next_skill[e].getTime()}function y({canAttackUsWithoutMoving:e,canKillInOneHit:t,canMoveTo:r,isAttacking:a,isAttackingParty:n,isAttackingUs:o,isCtype:s,isMonster:i,isMonsterType:c,isMoving:l,isNPC:u,isPartyMember:h,isPlayer:m,isRIP:d,isWithinDistance:f}){const y=[],g=is_pvp();for(const v in parent.entities){const b=parent.entities[v],_=distance(parent.character,b);!0===e&&b.range>_||(!1===e&&b.range<=_||!0===t&&p(parent.character,b)[0]>b.hp||!1===t&&p(parent.character,b)[0]<=b.hp||(!0!==r||can_move_to(b.real_x,b.real_y))&&(!1===r&&can_move_to(b.real_x,b.real_y)||(!0!==a||"monster"!=b.type||b.target)&&(!1===a&&"monster"==b.type&&b.target||(!0!==a||"character"!=b.type||b.target)&&(!0!==n||"monster"!=b.type||parent.party_list.includes(b.target))&&(!1===n&&"monster"==b.type&&parent.party_list.includes(b.target)||(!0!==n||"character"!=b.type||g)&&(!0===n&&"character"==b.type&&parent.party_list.includes(v)||!0===n&&"Wizard"==parent.character.name||!0===o&&"monster"==b.type&&b.target!=parent.character.name||!1===o&&"monster"==b.type&&b.target==parent.character.name||(!0!==o||"character"!=b.type||g)&&(!0===o&&"character"==b.type&&parent.party_list.includes(v)||!0===o&&"Wizard"==parent.character.name||(void 0===s||b.ctype)&&(void 0!==s&&b.ctype!=s||!0===i&&"monster"!=b.type||!1===i&&"monster"==b.type||(void 0===c||b.mtype)&&(void 0===c||c.includes(b.mtype))&&(!0!==l||b.moving)&&(!1===l&&b.moving||!0===u&&"character"!=b.type||(!0!==u||"character"!=b.type||b.npc)&&(!0!==h||parent.party_list.includes(v))&&(!1===h&&parent.party_list.includes(v)||!0===m&&"character"!=b.type||!0===m&&b.npc||(!0!==d||b.rip)&&(!1===d&&b.rip||void 0!==f&&_>f||y.push(b)))))))))))}return y}function g(){const e=new Set;for(const t in parent.entities){const r=parent.entities[t];r.mtype&&e.add(r.mtype)}return e}function v(e){const t=[];for(const r in G.maps){const a=G.maps[r];if(!a.instance)for(const n of a.monsters||[])if(n.type==e)if(n.boundary)t.push({map:r,x:(n.boundary[0]+n.boundary[2])/2,y:(n.boundary[1]+n.boundary[3])/2});else if(n.boundaries)for(const e of n.boundaries)t.push({map:e[0],x:(e[1]+e[3])/2,y:(e[2]+e[4])/2})}return t}function b(e){const t=v(e);return t[Math.trunc(Math.random()*t.length)]}r.d(t,"p",(function(){return a})),r.d(t,"o",(function(){return n})),r.d(t,"i",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return c})),r.d(t,"a",(function(){return p})),r.d(t,"e",(function(){return l})),r.d(t,"n",(function(){return u})),r.d(t,"j",(function(){return h})),r.d(t,"g",(function(){return m})),r.d(t,"f",(function(){return d})),r.d(t,"m",(function(){return f})),r.d(t,"h",(function(){return y})),r.d(t,"l",(function(){return g})),r.d(t,"k",(function(){return b}))},11:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},22:function(e,t,r){"use strict";r.r(t),r.d(t,"hardcore",(function(){return s}));var a=r(0),n=r(6),o=r.n(n);const s=new class{constructor(){this.mainTarget="goo"}async run(){this.attackLoop(),this.buyLoop(),this.compoundLoop(),this.equipLoop(),this.exchangeLoop(),this.healLoop(),this.lootLoop(),this.moveLoop(),this.pontyLoop(),this.sellLoop(),this.upgradeLoop()}async attackLoop(){try{const e=new o.a((e,t)=>e.priority>t.priority);for(const t in parent.entities){const r=parent.entities[t];let a=0;if(r.rip)continue;if(parent.party_list.includes(t))continue;if(r.s.invincible)continue;if(r.npc)continue;if(r.mtype&&r.target&&!r.cooperative&&r.target!=parent.character.id)continue;if(r.mtype&&r.mtype!=this.mainTarget)continue;distance(parent.character,r)>parent.character.range||(r.target==parent.character.id&&(a+=100),r.mtype||(a+=10),e.add({id:t,priority:a}))}const t=parent.entities[e.poll().id];await attack(t),reduce_cooldown("attack",Math.min(...parent.pings))}catch(e){if("cooldown"==e.reason)return void setTimeout(async()=>{this.attackLoop()},Math.min(...parent.pings)-e.remaining);console.error(e)}setTimeout(async()=>{this.attackLoop()},Object(a.e)("attack",!0))}async buyLoop(){try{let e=0,t=0,r=0,n=0,o=0;for(const s of Object(a.i)())"hpot1"==s.name?e+=s.q:"mpot1"==s.name?t+=s.q:"cscroll2"==s.name?n+=s.q:"scroll2"==s.name?r+=s.q:"dexscroll"==s.name&&(o+=s.q);const s=[];e<25&&s.push(buy("hpot1",25-e)),t<25&&s.push(buy("mpot1",25-t)),n<3&&s.push(buy("cscroll2",3-n)),r<3&&s.push(buy("scroll2",3-r)),o<110&&s.push(buy("dexscroll",110-o)),Promise.all(s)}catch(e){console.error(e)}setTimeout(async()=>{this.buyLoop()},500)}async compoundLoop(){try{if(parent.character.q.compound||"bank"==parent.character.map)return void setTimeout(async()=>{this.compoundLoop()},500);const e=Object(a.i)();for(let t=0;t<e.length;t++){const r=e[t];if(!G.items[r.name].compound)continue;const n=[r];for(let a=t+1;a<e.length;a++){const t=e[a];t.name==r.name&&(t.level==r.level&&n.push(t))}if(n.length>=3){const e=Object(a.b)("cscroll2");e&&compound(n[0].index,n[1].index,n[2].index,e.index);break}}}catch(e){console.error(e)}setTimeout(async()=>{this.compoundLoop()},500)}async equipLoop(){try{let e,t,r=-1;if(parent.character.slots.helmet){const e=G.items[parent.character.slots.helmet.name];r=0,e.armor&&(r+=e.armor),e.upgrade.armor&&(r+=e.upgrade.armor*parent.character.slots.helmet.level),e.resistance&&(r+=e.resistance),e.upgrade.resistance&&(r+=e.upgrade.resistance*parent.character.slots.helmet.level)}let n,o=-1;if(parent.character.slots.chest){const e=G.items[parent.character.slots.chest.name];o=0,e.armor&&(o+=e.armor),e.upgrade.armor&&(o+=e.upgrade.armor*parent.character.slots.chest.level),e.resistance&&(o+=e.resistance),e.upgrade.resistance&&(o+=e.upgrade.resistance*parent.character.slots.chest.level)}let s,i=-1;if(parent.character.slots.pants){const e=G.items[parent.character.slots.pants.name];i=0,e.armor&&(i+=e.armor),e.upgrade.armor&&(i+=e.upgrade.armor*parent.character.slots.pants.level),e.resistance&&(i+=e.resistance),e.upgrade.resistance&&(i+=e.upgrade.resistance*parent.character.slots.pants.level)}let c,p=-1;if(parent.character.slots.shoes){const e=G.items[parent.character.slots.shoes.name];p=0,e.armor&&(p+=e.armor),e.upgrade.armor&&(p+=e.upgrade.armor*parent.character.slots.shoes.level),e.resistance&&(p+=e.resistance),e.upgrade.resistance&&(p+=e.upgrade.resistance*parent.character.slots.shoes.level)}let l,u=-1;if(parent.character.slots.gloves){const e=G.items[parent.character.slots.gloves.name];u=0,e.armor&&(u+=e.armor),e.upgrade.armor&&(u+=e.upgrade.armor*parent.character.slots.gloves.level),e.resistance&&(u+=e.resistance),e.upgrade.resistance&&(u+=e.upgrade.resistance*parent.character.slots.gloves.level)}let h,m=-1;if(parent.character.slots.cape){const e=G.items[parent.character.slots.cape.name];m=0,e.armor&&(m+=e.armor),e.compound.armor&&(m+=e.compound.armor*parent.character.slots.cape.level),e.resistance&&(m+=e.resistance),e.compound.resistance&&(m+=e.compound.resistance*parent.character.slots.cape.level)}let d,f=-1;if(parent.character.slots.mainhand){const e=G.items[parent.character.slots.mainhand.name];f=0,e.range&&(f+=e.range),e.upgrade.range&&(f+=e.upgrade.range*parent.character.slots.mainhand.level)}let y,g=-1;if(parent.character.slots.offhand){const e=G.items[parent.character.slots.offhand.name];g=0,e.range&&(g+=e.range),e.upgrade.range&&(g+=e.upgrade.range*parent.character.slots.offhand.level)}let v,b=-1;if(parent.character.slots.amulet){const e=G.items[parent.character.slots.amulet.name];b=0,e.vit&&(b+=e.vit),e.compound.vit&&(b+=e.compound.vit*parent.character.slots.amulet.level)}let _,x=-1;if(parent.character.slots.ring1){const e=G.items[parent.character.slots.ring1.name];x=0,e.vit&&(x+=e.vit),e.compound.vit&&(x+=e.compound.vit*parent.character.slots.ring1.level)}let k,w=-1;if(parent.character.slots.ring2){const e=G.items[parent.character.slots.ring2.name];w=0,e.vit&&(w+=e.vit),e.compound.vit&&(w+=e.compound.vit*parent.character.slots.ring2.level)}let L,q=-1;if(parent.character.slots.earring1){const e=G.items[parent.character.slots.earring1.name];q=0,e.vit&&(q+=e.vit),e.compound.vit&&(q+=e.compound.vit*parent.character.slots.earring1.level)}let T,z=-1;if(parent.character.slots.earring2){const e=G.items[parent.character.slots.earring2.name];z=0,e.vit&&(z+=e.vit),e.compound.vit&&(z+=e.compound.vit*parent.character.slots.earring2.level)}let M,j=-1;if(parent.character.slots.belt){const e=G.items[parent.character.slots.belt.name];j=0,e.vit&&(j+=e.vit),e.compound.vit&&(j+=e.compound.vit*parent.character.slots.belt.level)}let O=-1;if(parent.character.slots.orb){const e=G.items[parent.character.slots.orb.name];O=0,e.vit&&(O+=e.vit),e.compound.vit&&(O+=e.compound.vit*parent.character.slots.orb.level)}for(const P of Object(a.i)()){const a=G.items[P.name];if("weapon"==a.type&&"bow"==a.wtype){let e=0;a.range&&(e+=a.range),a.upgrade.range&&(e+=a.upgrade.range*P.level),e>f&&(h=P,f=e)}else if("helmet"==a.type){let t=0;a.armor&&(t+=a.armor),a.upgrade.armor&&(t+=a.upgrade.armor*P.level),a.resistance&&(t+=a.resistance),a.upgrade.resistance&&(t+=a.upgrade.resistance*P.level),t>r&&(e=P,r=t)}else if("chest"==a.type){let e=0;a.armor&&(e+=a.armor),a.upgrade.armor&&(e+=a.upgrade.armor*P.level),a.resistance&&(e+=a.resistance),a.upgrade.resistance&&(e+=a.upgrade.resistance*P.level),e>o&&(t=P,o=e)}else if("pants"==a.type){let e=0;a.armor&&(e+=a.armor),a.upgrade.armor&&(e+=a.upgrade.armor*P.level),a.resistance&&(e+=a.resistance),a.upgrade.resistance&&(e+=a.upgrade.resistance*P.level),e>i&&(n=P,i=e)}else if("shoes"==a.type){let e=0;a.armor&&(e+=a.armor),a.upgrade.armor&&(e+=a.upgrade.armor*P.level),a.resistance&&(e+=a.resistance),a.upgrade.resistance&&(e+=a.upgrade.resistance*P.level),e>p&&(s=P,p=e)}else if("gloves"==a.type){let e=0;a.armor&&(e+=a.armor),a.upgrade.armor&&(e+=a.upgrade.armor*P.level),a.resistance&&(e+=a.resistance),a.upgrade.resistance&&(e+=a.upgrade.resistance*P.level),e>u&&(c=P,u=e)}else if("cape"==a.type){let e=0;a.armor&&(e+=a.armor),a.upgrade.armor&&(e+=a.upgrade.armor*P.level),a.resistance&&(e+=a.resistance),a.upgrade.resistance&&(e+=a.upgrade.resistance*P.level),e>m&&(l=P,m=e)}else if("quiver"==a.type){let e=0;a.range&&(e+=a.range),a.upgrade.range&&(e+=a.upgrade.range*P.level),e>g&&(d=P,g=e)}else if("amulet"==a.type){let e=0;a.vit&&(e+=a.vit),a.compound.vit&&(e+=a.compound.vit*P.level),e>b&&(y=P,b=e)}else if("ring"==a.type){let e=0;a.vit&&(e+=a.vit),a.compound.vit&&(e+=a.compound.vit*P.level),e>x?(v=P,x=e):e>w&&(_=P,w=e)}else if("earring"==a.type){let e=0;a.vit&&(e+=a.vit),a.compound.vit&&(e+=a.compound.vit*P.level),e>q?(k=P,q=e):e>z&&(L=P,z=e)}else if("belt"==a.type){let e=0;a.vit&&(e+=a.vit),a.compound.vit&&(e+=a.compound.vit*P.level),e>j&&(T=P,j=e)}else if("orb"==a.type){let e=0;a.vit&&(e+=a.vit),a.compound.vit&&(e+=a.compound.vit*P.level),e>O&&(M=P,O=e)}}h&&equip(h.index,"mainhand"),d&&equip(d.index,"offhand"),e&&equip(e.index,"helmet"),t&&equip(t.index,"chest"),n&&equip(n.index,"pants"),s&&equip(s.index,"shoes"),c&&equip(c.index,"gloves"),l&&equip(l.index,"cape"),y&&equip(y.index,"amulet"),v&&equip(v.index,"ring1"),_&&equip(_.index,"ring2"),k&&equip(k.index,"earring1"),L&&equip(L.index,"earring2"),T&&equip(T.index,"belt"),M&&equip(M.index,"orb")}catch(e){console.error(e)}setTimeout(async()=>{this.equipLoop()},500)}async exchangeLoop(){try{if(parent.character.q.exchange||"bank"==parent.character.map)return void setTimeout(async()=>{this.exchangeLoop()},500);for(const e of Object(a.i)())(G.items[e.name].e&&e.q>=G.items[e.name].e||"glitch"==e.name)&&exchange(e.index)}catch(e){console.error(e)}setTimeout(async()=>{this.exchangeLoop()},500)}async healLoop(){try{if(parent.character.rip)return respawn(),void setTimeout(async()=>{this.healLoop()},Object(a.e)("use_town"));if(!Object(a.m)("use_hp"))return void setTimeout(async()=>{this.healLoop()},Object(a.e)("use_hp"));const e=["hpot0","hpot1"],t=["mpot0","mpot1"];let r=null,n=null;for(let a=parent.character.items.length-1;a>=0;a--){const o=parent.character.items[a];if(o&&(!n&&e.includes(o.name)?n=o:!r&&t.includes(o.name)&&(r=o),n&&r))break}const o=parent.character.hp/parent.character.max_hp,s=parent.character.mp/parent.character.max_mp;o<=s&&1!=o&&(!n||"hpot0"==n.name&&(parent.character.hp<=parent.character.max_hp-200||parent.character.hp<50)||"hpot1"==n.name&&(parent.character.hp<=parent.character.max_hp-400||parent.character.hp<50))?(await use_skill("use_hp"),await reduce_cooldown("use_hp",Math.min(...parent.pings)),await reduce_cooldown("use_mp",Math.min(...parent.pings))):1!=s&&(!r||"mpot0"==r.name&&(parent.character.mp<=parent.character.max_mp-300||parent.character.mp<50)||"mpot1"==r.name&&(parent.character.mp<=parent.character.max_mp-500||parent.character.mp<50))?(await use_skill("use_mp"),reduce_cooldown("use_hp",Math.min(...parent.pings)),reduce_cooldown("use_mp",Math.min(...parent.pings))):o<s?(await use_skill("regen_hp"),reduce_cooldown("use_hp",Math.min(...parent.pings)),reduce_cooldown("use_mp",Math.min(...parent.pings))):s<o&&(await use_skill("regen_mp"),reduce_cooldown("use_hp",Math.min(...parent.pings)),reduce_cooldown("use_mp",Math.min(...parent.pings)))}catch(e){console.error(e)}setTimeout(async()=>{this.healLoop()},Object(a.e)("use_hp"))}async lootLoop(){try{let e=10;for(const t in parent.chests)if(loot(t),--e<0)break}catch(e){console.error(e)}setTimeout(async()=>{this.lootLoop()},500)}async moveLoop(){try{if(!smart.moving){let e,t=Number.MAX_VALUE;for(const r in parent.entities){const a=parent.entities[r];if(!a.mtype)continue;if(a.mtype!=this.mainTarget)continue;const n=distance(parent.character,a);n<t&&(t=n,e=a)}e?t>parent.character.range&&xmove(e.real_x,e.real_y):smart_move(this.mainTarget)}}catch(e){console.error(e)}setTimeout(async()=>{this.moveLoop()},500)}async pontyLoop(){try{let e=!1;for(const t of parent.npcs)if("secondhands"==t.id&&distance(parent.character,{x:t.position[0],y:t.position[1]})<350){e=!0;break}if(!e)return void setTimeout(async()=>{this.pontyLoop()},250);const t=["crossbow","t3bow","quiver","t2quiver","xhelmet","xpants","xgloves","xarmor","xboots"];parent.socket.once("secondhands",e=>{for(const r of e)t.includes(r.name)&&parent.socket.emit("sbuy",{rid:r.rid})}),parent.socket.emit("secondhands")}catch(e){console.error(e)}setTimeout(async()=>{this.pontyLoop()},1e4)}async sellLoop(){try{const e=Object(a.i)();for(const t of e){const e=G.items[t.name];"material"!=e.type?"weapon"!=e.type||e.wtype.includes("bow")||e.wtype.includes("crossbow")?"cosmetics"==e.type||"jar"==e.type||"key"==e.type||"petlicence"==e.type||"qubics"==e.type||"quest"==e.type||"shield"==e.type||"source"==e.type||"throw"==e.type||"token"==e.type||e.e>1||"pscroll"==e.type&&"dexscroll"!=t.name||"fieldgen0"==t.name||"greenbomb"==t.name||"hpot0"==t.name||"mpot0"==t.name||"offering"==t.name||"solitaire"==t.name||"swirlipop"==t.name||"x0"==t.name||"x1"==t.name||"x2"==t.name||"x3"==t.name||"x4"==t.name||"x5"==t.name||"x6"==t.name||"x7"==t.name||"x8"==t.name?sell(t.index):"gem"!=e.type||e.e||sell(t.index):sell(t.index):sell(t.index,t.q)}}catch(e){console.error(e)}setTimeout(async()=>{this.sellLoop()},500)}async upgradeLoop(){try{if(parent.character.q.upgrade||"bank"==parent.character.map)return void setTimeout(async()=>{this.upgradeLoop()},500);let e,t=Number.MAX_VALUE;const r=Object(a.i)();for(const a of r){if(G.items[a.name].upgrade&&(a.level<t&&(t=a.level,e=a),0==t))break}if(e)if(!G.items[e.name].upgrade.stat||e.stat_type&&"dex"==e.stat_type){const t=Object(a.b)("scroll2");t&&upgrade(e.index,t.index)}else{const t=Object(a.b)("dexscroll");t&&upgrade(e.index,t.index)}}catch(e){console.error(e)}setTimeout(async()=>{this.upgradeLoop()},500)}}},6:function(e,t,r){"use strict";(function(e){var t=function(e,t){return e<t};function a(e){if(!(this instanceof a))return new a(e);this.array=[],this.size=0,this.compare=e||t}a.prototype.clone=function(){var e=new a(this.compare);e.size=this.size;for(var t=0;t<this.size;t++)e.array.push(this.array[t]);return e},a.prototype.add=function(e){var t,r,a=this.size;for(this.array[this.size]=e,this.size+=1;a>0&&(t=a-1>>1,r=this.array[t],this.compare(e,r));)this.array[a]=r,a=t;this.array[a]=e},a.prototype.heapify=function(e){var t;for(this.array=e,this.size=e.length,t=this.size>>1;t>=0;t--)this._percolateDown(t)},a.prototype._percolateUp=function(e,t){for(var r,a,n=this.array[e];e>0&&(r=e-1>>1,a=this.array[r],t||this.compare(n,a));)this.array[e]=a,e=r;this.array[e]=n},a.prototype._percolateDown=function(e){for(var t,r,a,n=this.size,o=this.size>>>1,s=this.array[e];e<o&&(r=(t=1+(e<<1))+1,a=this.array[t],r<n&&this.compare(this.array[r],a)&&(t=r,a=this.array[r]),this.compare(a,s));)this.array[e]=a,e=t;this.array[e]=s},a.prototype._removeAt=function(e){if(!(e>this.size-1||e<0))return this._percolateUp(e,!0),this.poll()},a.prototype.remove=function(e){for(var t=0;t<this.size;t++)if(!this.compare(this.array[t],e)&&!this.compare(e,this.array[t]))return this._removeAt(t),!0;return!1},a.prototype._batchRemove=function(e,t){var r=new Array(t||this.size),a=0;if("function"==typeof e&&this.size)for(var n=0;n<this.size&&a<r.length;)e(this.array[n])?(r[a]=this._removeAt(n),a++,n>>=1):n++;return r.length=a,r},a.prototype.removeOne=function(e){var t=this._batchRemove(e,1);return t.length>0?t[0]:void 0},a.prototype.removeMany=function(e,t){return this._batchRemove(e,t)},a.prototype.peek=function(){if(0!=this.size)return this.array[0]},a.prototype.poll=function(){if(0!=this.size){var e=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,e}},a.prototype.replaceTop=function(e){if(0!=this.size){var t=this.array[0];return this.array[0]=e,this._percolateDown(0),t}},a.prototype.trim=function(){this.array=this.array.slice(0,this.size)},a.prototype.isEmpty=function(){return 0===this.size},a.prototype.forEach=function(e){if(!this.isEmpty()&&"function"==typeof e)for(var t=0,r=this.clone();!r.isEmpty();)e(r.poll(),t++)},a.prototype.kSmallest=function(e){if(0==this.size)return[];var t=this.compare,r=this.array,n=new a((function(e,a){return t(r[e],r[a])}));e=Math.min(this.size,e);var o=new Array(e),s=0;for(n.add(0);s<e;){var i=n.poll();o[s++]=this.array[i];var c=1+(i<<1),p=c+1;c<this.size&&n.add(c),p<this.size&&n.add(p)}return o};r.c[r.s]===e&&function(){var e=new a((function(e,t){return e<t}));for(e.add(1),e.add(0),e.add(5),e.add(4),e.add(3);!e.isEmpty();)console.log(e.poll())}(),e.exports=a}).call(this,r(11)(e))}});