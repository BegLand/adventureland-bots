window.bots=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=22)}({0:function(e,t,r){"use strict";function n(e){return new Promise(t=>setTimeout(t,e))}function a(e){return"character"==e.type&&!function(e){return!!e.npc}(e)}function i(e=parent.character.items){const t=[];for(let r=0;r<42;r++)e[r]&&t.push({...e[r],index:r});return t}function o(e){for(let t=0;t<42;t++)if(parent.character.items[t]&&parent.character.items[t].name==e)return{...parent.character.items[t],index:t}}function s(e){const t=[];for(let r=0;r<42;r++)parent.character.items[r]&&parent.character.items[r].name==e&&t.push({...parent.character.items[r],index:r});return t}function c(e,t){const r=[];for(let n=0;n<42;n++)parent.character.items[n]&&parent.character.items[n].name==e&&parent.character.items[n].level==t&&r.push({...parent.character.items[n],index:n});return r}function p(e,t){let r=e.attack;return e.apiercing||(e.apiercing=0),e.rpiercing||(e.rpiercing=0),t.armor||(t.armor=0),!e.damage_type&&e.slots.mainhand&&(e.damage_type=G.items[e.slots.mainhand.name].damage),t["1hp"]?[1,1]:("physical"==e.damage_type?r*=damage_multiplier(t.armor-e.apiercing):"magical"==e.damage_type&&(r*=damage_multiplier(t.resistance-e.rpiercing)),[.9*r,1.1*r])}function l(e,t=!1){if(parent.next_skill&&parent.next_skill[e]){const r=parent.next_skill[e].getTime()-Date.now();return t?r+1:r<parent.character.ping?parent.character.ping:r+1}return parent.character.ping}function h(e=parent.character.items){for(let t=0;t<e.length;t++)if(!e[t])return!1;return!0}function u(){const e=new Set;for(const t of parent.party_list)e.add(parent.party[t].type);return e}function m(e=parent.character.items){const t=[];for(let r=0;r<e.length;r++)e[r]||t.push(r);return t}function f(){if(!["bank","bank_b","bank_u"].includes(parent.character.map))return;const e=[];for(const t in bank_packs)if("gold"!=t&&bank_packs[t][0]==parent.character.map)for(let r=0;r<42;r++){parent.character.bank[t][r]||e.push({pack:t,index:r})}return e}function y(e){const t=G.skills[e].level;if(t&&t>parent.character.level)return!1;if(parent.character.stoned)return!1;if(parent.character.rip)return!1;const r=G.skills[e].wtype;if(r&&r!=G.items[parent.character.slots.mainhand.name].wtype)return!1;if(G.skills[e].slot)for(const t of G.skills[e].slot){if(!parent.character.slots[t[0]])return!1;if(parent.character.slots[t[0]].name!=t[1])return!1}if(G.skills[e].class){let t=!1;for(const r of G.skills[e].class)if(r==parent.character.ctype){t=!0;break}if(!t)return!1}let n=0;if(G.skills[e].mp?n=G.skills[e].mp:["attack","heal"].includes(e)&&(n=parent.character.mp_cost),parent.character.mp<n)return!1;if(void 0===parent.next_skill[e])return!0;const a=G.skills[e].share;return a?!parent.next_skill[a]||Date.now()>=parent.next_skill[a].getTime():Date.now()>=parent.next_skill[e].getTime()}function d({canAttackUsWithoutMoving:e,canKillInOneHit:t,canMoveTo:r,isAttacking:n,isAttackingParty:a,isAttackingUs:i,isCtype:o,isMonster:s,isMonsterType:c,isMoving:l,isNPC:h,isPartyMember:u,isPlayer:m,isRIP:f,isWithinDistance:y}){const d=[],g=is_pvp();for(const v in parent.entities){const _=parent.entities[v],b=distance(parent.character,_);!0===e&&_.range>b||(!1===e&&_.range<=b||!0===t&&p(parent.character,_)[0]>_.hp||!1===t&&p(parent.character,_)[0]<=_.hp||(!0!==r||can_move_to(_.real_x,_.real_y))&&(!1===r&&can_move_to(_.real_x,_.real_y)||(!0!==n||"monster"!=_.type||_.target)&&(!1===n&&"monster"==_.type&&_.target||(!0!==n||"character"!=_.type||_.target)&&(!0!==a||"monster"!=_.type||parent.party_list.includes(_.target))&&(!1===a&&"monster"==_.type&&parent.party_list.includes(_.target)||(!0!==a||"character"!=_.type||g)&&(!0===a&&"character"==_.type&&parent.party_list.includes(v)||!0===a&&"Wizard"==parent.character.name||!0===i&&"monster"==_.type&&_.target!=parent.character.name||!1===i&&"monster"==_.type&&_.target==parent.character.name||(!0!==i||"character"!=_.type||g)&&(!0===i&&"character"==_.type&&parent.party_list.includes(v)||!0===i&&"Wizard"==parent.character.name||(void 0===o||_.ctype)&&(void 0!==o&&_.ctype!=o||!0===s&&"monster"!=_.type||!1===s&&"monster"==_.type||(void 0===c||_.mtype)&&(void 0===c||c.includes(_.mtype))&&(!0!==l||_.moving)&&(!1===l&&_.moving||!0===h&&"character"!=_.type||(!0!==h||"character"!=_.type||_.npc)&&(!0!==u||parent.party_list.includes(v))&&(!1===u&&parent.party_list.includes(v)||!0===m&&"character"!=_.type||!0===m&&_.npc||(!0!==f||_.rip)&&(!1===f&&_.rip||void 0!==y&&b>y||d.push(_)))))))))))}return d}function g(){const e=new Set;for(const t in parent.entities){const r=parent.entities[t];r.mtype&&e.add(r.mtype)}return e}function v(e){const t=[];for(const r in G.maps){const n=G.maps[r];if(!n.instance)for(const a of n.monsters||[])if(a.type==e)if(a.boundary)t.push({map:r,x:(a.boundary[0]+a.boundary[2])/2,y:(a.boundary[1]+a.boundary[3])/2});else if(a.boundaries)for(const e of a.boundaries)t.push({map:e[0],x:(e[1]+e[3])/2,y:(e[2]+e[4])/2})}return t}function _(e){const t=v(e);return t[Math.trunc(Math.random()*t.length)]}r.d(t,"p",(function(){return n})),r.d(t,"o",(function(){return a})),r.d(t,"i",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return c})),r.d(t,"a",(function(){return p})),r.d(t,"e",(function(){return l})),r.d(t,"n",(function(){return h})),r.d(t,"j",(function(){return u})),r.d(t,"g",(function(){return m})),r.d(t,"f",(function(){return f})),r.d(t,"m",(function(){return y})),r.d(t,"h",(function(){return d})),r.d(t,"l",(function(){return g})),r.d(t,"k",(function(){return _}))},11:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},22:function(e,t,r){"use strict";r.r(t),r.d(t,"hardcore",(function(){return o}));var n=r(0),a=r(6),i=r.n(a);const o=new class{constructor(){this.mainTarget="goo"}async run(){this.attackLoop(),this.buyLoop(),this.compoundLoop(),this.equipLoop(),this.exchangeLoop(),this.healLoop(),this.lootLoop(),this.moveLoop(),this.pontyLoop(),this.sellLoop(),this.upgradeLoop()}async attackLoop(){try{const e=new i.a((e,t)=>e.priority>t.priority);for(const t in parent.entities){const r=parent.entities[t];let n=0;if(r.rip)continue;if(parent.party_list.includes(t))continue;if(r.s.invincible)continue;if(r.npc)continue;if(r.mtype&&r.target&&!r.cooperative&&r.target!=parent.character.id)continue;distance(parent.character,r)>parent.character.range||(r.target==parent.character.id&&(n+=100),r.mtype||(n+=10),e.add({id:t,priority:n}))}const t=parent.entities[e.poll().id];await attack(t),reduce_cooldown("attack",Math.min(...parent.pings))}catch(e){if("cooldown"==e.reason)return void setTimeout(async()=>{this.attackLoop()},Math.min(...parent.pings)-e.remaining);console.error(e)}setTimeout(async()=>{this.attackLoop()},Object(n.e)("attack",!0))}async buyLoop(){try{let e=0,t=0,r=0,a=0,i=0;for(const o of Object(n.i)())"hpot1"==o.name?e+=o.q:"mpot1"==o.name?t+=o.q:"cscroll2"==o.name?a+=o.q:"scroll2"==o.name?r+=o.q:"dexscroll"==o.name&&(i+=o.q);const o=[];e<25&&o.push(buy("hpot1",25-e)),t<25&&o.push(buy("mpot1",25-t)),a<3&&o.push(buy("cscroll2",3-a)),r<3&&o.push(buy("scroll2",3-r)),i<110&&o.push(buy("dexscroll",110-i)),Promise.all(o)}catch(e){console.error(e)}setTimeout(async()=>{this.buyLoop()},500)}async compoundLoop(){try{if(parent.character.q.compound||"bank"==parent.character.map)return void setTimeout(async()=>{this.compoundLoop()},500);const e=Object(n.i)();for(let t=0;t<e.length;t++){const r=e[t];if(!G.items[r.name].compound)continue;const a=[r];for(let n=t+1;n<e.length;n++){const t=e[n];t.name==r.name&&(t.level==t.level&&a.push(t))}if(a.length>=3){const e=Object(n.b)("cscroll2");e&&compound(a[0].index,a[1].index,a[2].index,e.index);break}}}catch(e){console.error(e)}setTimeout(async()=>{this.compoundLoop()},500)}async equipLoop(){try{let e,t,r=-1;if(parent.character.slots.helmet){const e=G.items[parent.character.slots.helmet.name];r=0,e.armor&&(r+=e.armor),e.resistance&&(r+=e.resistance)}let a,i=-1;if(parent.character.slots.chest){const e=G.items[parent.character.slots.chest.name];i=0,e.armor&&(i+=e.armor),e.resistance&&(i+=e.resistance)}let o,s=-1;if(parent.character.slots.pants){const e=G.items[parent.character.slots.pants.name];s=0,e.armor&&(s+=e.armor),e.resistance&&(s+=e.resistance)}let c,p=-1;if(parent.character.slots.shoes){const e=G.items[parent.character.slots.shoes.name];p=0,e.armor&&(p+=e.armor),e.resistance&&(p+=e.resistance)}let l,h=-1;if(parent.character.slots.shoes){const e=G.items[parent.character.slots.shoes.name];h=0,e.armor&&(h+=e.armor),e.resistance&&(h+=e.resistance)}let u,m=-1;if(parent.character.slots.cape){const e=G.items[parent.character.slots.cape.name];m=0,e.armor&&(m+=e.armor),e.resistance&&(m+=e.resistance)}let f,y=-1;if(parent.character.slots.mainhand){const e=G.items[parent.character.slots.mainhand.name];y=0,e.range&&(y+=e.range)}let d,g=-1;if(parent.character.slots.offhand){const e=G.items[parent.character.slots.offhand.name];g=0,e.armor&&(g+=e.armor),e.resistance&&(g+=e.resistance)}let v,_=-1;if(parent.character.slots.amulet){const e=G.items[parent.character.slots.amulet.name];_=0,e.vit&&(_+=e.vit)}let b,x=-1;if(parent.character.slots.ring1){const e=G.items[parent.character.slots.ring1.name];x=0,e.vit&&(x+=e.vit)}let k,w=-1;if(parent.character.slots.ring2){const e=G.items[parent.character.slots.ring2.name];w=0,e.vit&&(w+=e.vit)}let L,q=-1;if(parent.character.slots.earring1){const e=G.items[parent.character.slots.earring1.name];q=0,e.vit&&(q+=e.vit)}let z,T=-1;if(parent.character.slots.earring2){const e=G.items[parent.character.slots.earring2.name];T=0,e.vit&&(T+=e.vit)}let M,O=-1;if(parent.character.slots.belt){const e=G.items[parent.character.slots.belt.name];O=0,e.vit&&(O+=e.vit)}let j=-1;if(parent.character.slots.orb){const e=G.items[parent.character.slots.orb.name];j=0,e.vit&&(j+=e.vit)}for(const P of Object(n.i)()){const n=G.items[P.name];if("weapon"==n.type&&"bow"==n.wtype){let e=0;n.range&&(e+=n.range),e>y&&(u=P,y=e)}else if("helmet"==n.type){let t=0;n.armor&&(t+=n.armor),n.resistance&&(t+=n.resistance),t>r&&(e=P,r=t)}else if("chest"==n.type){let e=0;n.armor&&(e+=n.armor),n.resistance&&(e+=n.resistance),e>i&&(t=P,i=e)}else if("pants"==n.type){let e=0;n.armor&&(e+=n.armor),n.resistance&&(e+=n.resistance),e>s&&(a=P,s=e)}else if("shoes"==n.type){let e=0;n.armor&&(e+=n.armor),n.resistance&&(e+=n.resistance),e>p&&(o=P,p=e)}else if("gloves"==n.type){let e=0;n.armor&&(e+=n.armor),n.resistance&&(e+=n.resistance),e>h&&(c=P,h=e)}else if("cape"==n.type){let e=0;n.armor&&(e+=n.armor),n.resistance&&(e+=n.resistance),e>m&&(l=P,m=e)}else if("quiver"==n.type){let e=0;n.range&&(e+=n.range),e>g&&(f=P,g=e)}else if("amulet"==n.type){let e=0;n.vit&&(e+=n.vit),e>_&&(d=P,_=0)}else if("ring"==n.type){let e=0;n.vit&&(e+=n.vit),e>x?(v=P,x=e):e>w&&(b=P,w=e)}else if("earring"==n.type){let e=0;n.vit&&(e+=n.vit),e>q?(k=P,q=e):e>T&&(L=P,T=e)}else if("belt"==n.type){let e=0;n.vit&&(e+=n.vit),e>O&&(z=P,O=e)}else if("orb"==n.type){let e=0;n.vit&&(e+=n.vit),e>j&&(M=P,j=e)}}u&&equip(u.index,"mainhand"),f&&equip(f.index,"offhand"),e&&equip(e.index,"helmet"),t&&equip(t.index,"chest"),a&&equip(a.index,"pants"),o&&equip(o.index,"shoes"),c&&equip(c.index,"gloves"),l&&equip(l.index,"cape"),d&&equip(d.index,"amulet"),v&&equip(v.index,"ring1"),b&&equip(b.index,"ring2"),k&&equip(k.index,"earring1"),L&&equip(L.index,"earring2"),z&&equip(z.index,"belt"),M&&equip(M.index,"orb")}catch(e){console.error(e)}setTimeout(async()=>{this.equipLoop()},500)}async exchangeLoop(){try{if(parent.character.q.exchange||"bank"==parent.character.map)return void setTimeout(async()=>{this.exchangeLoop()},500);for(const e of Object(n.i)())(G.items[e.name].e&&e.q>=G.items[e.name].e||"glitch"==e.name)&&exchange(e.index)}catch(e){console.error(e)}setTimeout(async()=>{this.exchangeLoop()},500)}async healLoop(){try{if(parent.character.rip)return respawn(),void setTimeout(async()=>{this.healLoop()},Object(n.e)("use_town"));if(!Object(n.m)("use_hp"))return void setTimeout(async()=>{this.healLoop()},Object(n.e)("use_hp"));const e=["hpot0","hpot1"],t=["mpot0","mpot1"];let r=null,a=null;for(let n=parent.character.items.length-1;n>=0;n--){const i=parent.character.items[n];if(i&&(!a&&e.includes(i.name)?a=i:!r&&t.includes(i.name)&&(r=i),a&&r))break}const i=parent.character.hp/parent.character.max_hp,o=parent.character.mp/parent.character.max_mp;i<=o&&1!=i&&(!a||"hpot0"==a.name&&(parent.character.hp<=parent.character.max_hp-200||parent.character.hp<50)||"hpot1"==a.name&&(parent.character.hp<=parent.character.max_hp-400||parent.character.hp<50))?(use_skill("use_hp"),reduce_cooldown("use_hp",Math.min(...parent.pings)),reduce_cooldown("use_mp",Math.min(...parent.pings))):1!=o&&(!r||"mpot0"==r.name&&(parent.character.mp<=parent.character.max_mp-300||parent.character.mp<50)||"mpot1"==r.name&&(parent.character.mp<=parent.character.max_mp-500||parent.character.mp<50))?(use_skill("use_mp"),reduce_cooldown("use_hp",Math.min(...parent.pings)),reduce_cooldown("use_mp",Math.min(...parent.pings))):i<o?(use_skill("regen_hp"),reduce_cooldown("use_hp",Math.min(...parent.pings)),reduce_cooldown("use_mp",Math.min(...parent.pings))):o<i&&(use_skill("regen_mp"),reduce_cooldown("use_hp",Math.min(...parent.pings)),reduce_cooldown("use_mp",Math.min(...parent.pings)))}catch(e){console.error(e)}setTimeout(async()=>{this.healLoop()},Object(n.e)("use_hp"))}async lootLoop(){try{let e=10;for(const t in parent.chests)if(loot(t),--e<0)break}catch(e){console.error(e)}setTimeout(async()=>{this.lootLoop()},500)}async moveLoop(){try{if(!smart.moving){let e,t=Number.MAX_VALUE;for(const r in parent.entities){const n=parent.entities[r];if(!n.mtype)continue;if(n.mtype!=this.mainTarget)continue;const a=distance(parent.character,n);a<t&&(t=a,e=n)}e?t>parent.character.range&&xmove(e.real_x,e.real_y):smart_move(this.mainTarget)}}catch(e){console.error(e)}setTimeout(async()=>{this.moveLoop()},500)}async pontyLoop(){try{let e=!1;for(const t of parent.npcs)if("secondhands"==t.id&&distance(parent.character,{x:t.position[0],y:t.position[1]})<350){e=!0;break}if(!e)return void setTimeout(()=>{this.pontyLoop()},250);const t=["crossbow","t3bow","quiver","t2quiver","xhelmet","xpants","xgloves","xarmor","xboots"];parent.socket.once("secondhands",e=>{for(const r of e)t.includes(r.name)&&parent.socket.emit("sbuy",{rid:r.rid})}),parent.socket.emit("secondhands")}catch(e){console.error(e)}setTimeout(async()=>{this.pontyLoop()},1e4)}async sellLoop(){try{const e=Object(n.i)();for(const t of e){const e=G.items[t.name];"material"!=e.type?("weapon"==e.type&&"bow"!=e.wtype&&"crossbow"!=e.wtype||"shield"==e.type||"source"==e.type||e.e>1||"offering"==t.name)&&sell(t.index):sell(t.index,t.q)}}catch(e){console.error(e)}setTimeout(async()=>{this.sellLoop()},500)}async upgradeLoop(){try{if(parent.character.q.upgrade||"bank"==parent.character.map)return void setTimeout(async()=>{this.upgradeLoop()},500);let e,t=Number.MAX_VALUE;const r=Object(n.i)();for(const n of r){if(G.items[n.name].upgrade&&(n.level<t&&(t=n.level,e=n),0==t))break}if(e){const t=Object(n.b)("scroll2");t&&upgrade(e.index,t.index)}}catch(e){console.error(e)}setTimeout(async()=>{this.upgradeLoop()},500)}}},6:function(e,t,r){"use strict";(function(e){var t=function(e,t){return e<t};function n(e){if(!(this instanceof n))return new n(e);this.array=[],this.size=0,this.compare=e||t}n.prototype.clone=function(){var e=new n(this.compare);e.size=this.size;for(var t=0;t<this.size;t++)e.array.push(this.array[t]);return e},n.prototype.add=function(e){var t,r,n=this.size;for(this.array[this.size]=e,this.size+=1;n>0&&(t=n-1>>1,r=this.array[t],this.compare(e,r));)this.array[n]=r,n=t;this.array[n]=e},n.prototype.heapify=function(e){var t;for(this.array=e,this.size=e.length,t=this.size>>1;t>=0;t--)this._percolateDown(t)},n.prototype._percolateUp=function(e,t){for(var r,n,a=this.array[e];e>0&&(r=e-1>>1,n=this.array[r],t||this.compare(a,n));)this.array[e]=n,e=r;this.array[e]=a},n.prototype._percolateDown=function(e){for(var t,r,n,a=this.size,i=this.size>>>1,o=this.array[e];e<i&&(r=(t=1+(e<<1))+1,n=this.array[t],r<a&&this.compare(this.array[r],n)&&(t=r,n=this.array[r]),this.compare(n,o));)this.array[e]=n,e=t;this.array[e]=o},n.prototype._removeAt=function(e){if(!(e>this.size-1||e<0))return this._percolateUp(e,!0),this.poll()},n.prototype.remove=function(e){for(var t=0;t<this.size;t++)if(!this.compare(this.array[t],e)&&!this.compare(e,this.array[t]))return this._removeAt(t),!0;return!1},n.prototype._batchRemove=function(e,t){var r=new Array(t||this.size),n=0;if("function"==typeof e&&this.size)for(var a=0;a<this.size&&n<r.length;)e(this.array[a])?(r[n]=this._removeAt(a),n++,a>>=1):a++;return r.length=n,r},n.prototype.removeOne=function(e){var t=this._batchRemove(e,1);return t.length>0?t[0]:void 0},n.prototype.removeMany=function(e,t){return this._batchRemove(e,t)},n.prototype.peek=function(){if(0!=this.size)return this.array[0]},n.prototype.poll=function(){if(0!=this.size){var e=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,e}},n.prototype.replaceTop=function(e){if(0!=this.size){var t=this.array[0];return this.array[0]=e,this._percolateDown(0),t}},n.prototype.trim=function(){this.array=this.array.slice(0,this.size)},n.prototype.isEmpty=function(){return 0===this.size},n.prototype.forEach=function(e){if(!this.isEmpty()&&"function"==typeof e)for(var t=0,r=this.clone();!r.isEmpty();)e(r.poll(),t++)},n.prototype.kSmallest=function(e){if(0==this.size)return[];var t=this.compare,r=this.array,a=new n((function(e,n){return t(r[e],r[n])}));e=Math.min(this.size,e);var i=new Array(e),o=0;for(a.add(0);o<e;){var s=a.poll();i[o++]=this.array[s];var c=1+(s<<1),p=c+1;c<this.size&&a.add(c),p<this.size&&a.add(p)}return i};r.c[r.s]===e&&function(){var e=new n((function(e,t){return e<t}));for(e.add(1),e.add(0),e.add(5),e.add(4),e.add(3);!e.isEmpty();)console.log(e.poll())}(),e.exports=n}).call(this,r(11)(e))}});